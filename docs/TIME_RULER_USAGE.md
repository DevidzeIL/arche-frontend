# Time Ruler ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
src/components/timeline/
‚îú‚îÄ‚îÄ TimeRuler.tsx              # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ TimelineFilters.tsx        # –§–∏–ª—å—Ç—Ä—ã + zoom control
‚îú‚îÄ‚îÄ TimelineTrack.tsx          # –õ–∏–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ + –º–µ—Ç–∫–∏
‚îú‚îÄ‚îÄ TimelineCard.tsx           # –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–º–µ—Ç–∫–∏
‚îú‚îÄ‚îÄ TimelineMiniMap.tsx        # –ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ ScrollController.ts        # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–∫—Ä–æ–ª–ª–∞ —Å –∏–Ω–µ—Ä—Ü–∏–µ–π
‚îú‚îÄ‚îÄ types.ts                   # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ timelineEnricher.ts    # –û–±–æ–≥–∞—â–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ –¥–∞—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ snapUtils.ts           # Snap –∞–ª–≥–æ—Ä–∏—Ç–º
‚îÇ   ‚îú‚îÄ‚îÄ lodUtils.ts            # LOD —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îî‚îÄ‚îÄ index.ts
```

### –£—Ç–∏–ª–∏—Ç—ã

```
src/hooks/
‚îî‚îÄ‚îÄ useDebouncedCallback.ts    # Debounced callback hook
```

---

## üöÄ –ö–∞–∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ Timeline

```bash
pnpm dev
```

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ http://localhost:5173/timeline

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–°–∫—Ä–æ–ª–ª:**
- –ö–æ–ª—ë—Å–∏–∫–æ –º—ã—à–∏: –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ—Å–∏
- –ò–Ω–µ—Ä—Ü–∏—è: –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—É—Å–∫–∞–Ω–∏—è
- Snap: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ –∫ –∑–Ω–∞—á–∏–º—ã–º —Ç–æ—á–∫–∞–º

**Zoom (LOD):**
- üîç Out: –≤–µ–∫–∞/—ç–ø–æ—Ö–∏ (—Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏)
- üîç Mid: –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è (—Å—Ä–µ–¥–Ω–∏–µ –∏ –≤–∞–∂–Ω—ã–µ)
- üîç In: –≥–æ–¥—ã (–≤—Å–µ –∑–∞–º–µ—Ç–∫–∏)

**–§–∏–ª—å—Ç—Ä—ã:**
- –ö–ª–∏–∫ –ø–æ —Ç–∏–ø—É: –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –≤—Å–µ —Ç–∏–ø—ã –∞–∫—Ç–∏–≤–Ω—ã

**–ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞:**
- –ö–ª–∏–∫: –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –≥–æ–¥—É
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä: —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –∏ –≤–∏–¥–∏–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω

### 3. URL State

Timeline —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å URL:

```
/timeline?year=1900&zoom=mid
```

- `year` ‚Äî —Ç–µ–∫—É—â–∏–π –≥–æ–¥ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ
- `zoom` ‚Äî —É—Ä–æ–≤–µ–Ω—å –º–∞—Å—à—Ç–∞–±–∞ (out/mid/in)

**Shareable:** –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π, –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç —Ç–æ—Ç –∂–µ –≥–æ–¥!

---

## üìä –ö–∞–∫ –†–∞–±–æ—Ç–∞–µ—Ç

### –û–±–æ–≥–∞—â–µ–Ω–∏–µ –ó–∞–º–µ—Ç–æ–∫ –î–∞—Ç–∞–º–∏

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥:**

```markdown
---
id: person-aristotle-001
type: person
---
# –ê—Ä–∏—Å—Ç–æ—Ç–µ–ª—å

**384-322 –¥–æ –Ω.—ç.** ‚Äî –¥—Ä–µ–≤–Ω–µ–≥—Ä–µ—á–µ—Å–∫–∏–π —Ñ–∏–ª–æ—Å–æ—Ñ...
```

–ò–∑ —ç—Ç–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è:
- `startYear: -384`
- `endYear: -322`
- `displayYear: -384`

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- `"384-322 –¥–æ –Ω.—ç."` ‚Üí -384 –¥–æ -322
- `"1596-1650"` ‚Üí 1596 –¥–æ 1650
- `"1900"` ‚Üí 1900
- `"5 –≤–µ–∫ –¥–æ –Ω.—ç."` ‚Üí –ø—Ä–∏–º–µ—Ä–Ω–æ -450

**–í–∞–∂–Ω–æ—Å—Ç—å:**
–í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- hub: 0.8-1.0
- time: 0.8-1.0
- concept: 0.6-0.8
- person: 0.5-0.7
- work/place: 0.4-0.6
- note: 0.3-0.5

### LOD (Level of Detail)

**Zoomed Out (1px = 10-20 –ª–µ—Ç):**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ `importance >= 0.7`
- –ú–µ—Ç–∫–∏ –∫–∞–∂–¥—ã–µ 100 –ª–µ—Ç
- –¶–µ–ª—å: –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–π –æ–±–∑–æ—Ä

**Mid (1px = 2-5 –ª–µ—Ç):**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º `importance >= 0.4`
- –ú–µ—Ç–∫–∏ –∫–∞–∂–¥—ã–µ 10 –ª–µ—Ç
- –¶–µ–ª—å: –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥—É

**Zoomed In (1px = 1 –≥–æ–¥):**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –∑–∞–º–µ—Ç–∫–∏
- –ú–µ—Ç–∫–∏ –∫–∞–∂–¥—ã–π –≥–æ–¥
- –¶–µ–ª—å: –¥–µ—Ç–∞–ª—å–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ

### Snap Points

–ê–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç snap points:

- **–ü–µ—Ä—Å–æ–Ω—ã:** —Ä–æ–∂–¥–µ–Ω–∏–µ –∏ —Å–º–µ—Ä—Ç—å
- **–†–∞–±–æ—Ç—ã:** –ø—É–±–ª–∏–∫–∞—Ü–∏—è
- **–≠–ø–æ—Ö–∏:** –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü
- **–°–æ–±—ã—Ç–∏—è/–ö–æ–Ω—Ü–µ–ø—Ü–∏–∏:** –æ—Å–Ω–æ–≤–Ω–∞—è –¥–∞—Ç–∞

**–í–∞–∂–Ω–æ—Å—Ç—å snap point:**
- `high`: —ç–ø–æ—Ö–∏, –≤–∞–∂–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω—ã (importance > 0.7)
- `medium`: –æ–±—ã—á–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω—ã, —Ä–∞–±–æ—Ç—ã
- `low`: –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ –¥–∞—Ç—ã

**Strength:** 0.7 (70% –ø—Ä–∏—Ç—è–∂–µ–Ω–∏—è –∫ snap point)

**Threshold:** 10 –ª–µ—Ç (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 10 –ª–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç snap)

---

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≠–ø–æ—Ö

`src/components/timeline/TimeRuler.tsx`:

```typescript
const DEFAULT_EPOCHS: Epoch[] = [
  { name: '–ê–Ω—Ç–∏—á–Ω–æ—Å—Ç—å', startYear: -800, endYear: 500 },
  { name: '–°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ', startYear: 500, endYear: 1400 },
  // ... –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ —ç–ø–æ—Ö–∏
  { name: '–í–∞—à–∞ –≠–ø–æ—Ö–∞', startYear: 2000, endYear: 2025 },
];
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –î–∏–∞–ø–∞–∑–æ–Ω–∞ –õ–µ—Ç

```typescript
const START_YEAR = -800;  // –Ω–∞—á–∞–ª–æ
const END_YEAR = 2025;    // –∫–æ–Ω–µ—Ü
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Snap

`src/components/timeline/TimeRuler.tsx`:

```typescript
const controller = new ScrollController(
  setCurrentPosition,
  {
    enabled: true,      // –≤–∫–ª—é—á–∏—Ç—å snap
    threshold: 10,      // –≥–æ–¥—ã (—Ä–∞–¥–∏—É—Å –ø—Ä–∏—Ç—è–∂–µ–Ω–∏—è)
    strength: 0.7,      // —Å–∏–ª–∞ (0-1)
  },
  snapPoints
);
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LOD –ü–æ—Ä–æ–≥–æ–≤

`src/components/timeline/utils/lodUtils.ts`:

```typescript
const importanceThreshold = {
  out: 0.7,  // —Å—Ç—Ä–æ–∂–µ ‚Äî –º–µ–Ω—å—à–µ –∫–∞—Ä—Ç–æ—á–µ–∫
  mid: 0.4,
  in: 0,     // –º—è–≥—á–µ ‚Äî –±–æ–ª—å—à–µ –∫–∞—Ä—Ç–æ—á–µ–∫
}[zoomLevel];
```

---

## üîß –†—É—á–Ω–æ–µ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –î–∞—Ç

–ï—Å–ª–∏ –∞–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–æ–±–∞–≤—å—Ç–µ —è–≤–Ω–æ –≤ frontmatter:

```markdown
---
id: note-custom-001
type: concept
timeline:
  start_year: 1900
  end_year: 1950
  importance: 0.8
  precision: exact
---
# –í–∞—à–∞ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–û–ø–∏—Å–∞–Ω–∏–µ...
```

**–ü–æ–ª—è:**
- `start_year` ‚Äî –Ω–∞—á–∞–ª–æ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `end_year` ‚Äî –∫–æ–Ω–µ—Ü (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `importance` ‚Äî 0-1 (–≤–ª–∏—è–µ—Ç –Ω–∞ LOD)
- `precision` ‚Äî `exact`, `approximate`, `century`

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è

- –†–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ + buffer (100 –ª–µ—Ç)
- –ü—Ä–∏ 1000+ –∑–∞–º–µ—Ç–æ–∫: –ø–ª–∞–≤–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- `useMemo` –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

### Debouncing

- URL –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 500ms
- –ò–∑–±–µ–≥–∞–µ–º –ª–∏—à–Ω–∏—Ö history push

### RequestAnimationFrame

- –í—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ RAF
- –ü–ª–∞–≤–Ω–æ—Å—Ç—å 60fps

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –†–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

- `React.memo` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ (React 19 –∞–≤—Ç–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- Conditional rendering –¥–ª—è –º–µ—Ç–æ–∫ –≤–Ω–µ —ç–∫—Ä–∞–Ω–∞

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –∑–∞–º–µ—Ç–æ–∫ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–º–µ—Ç–∫–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤—å—Ç–µ –¥–∞—Ç—ã –≤ markdown (–≥–æ–¥—ã –∂–∏–∑–Ω–∏ –ø–µ—Ä—Å–æ–Ω, –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)
2. –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ frontmatter —Å `timeline` –ø–æ–ª—è–º–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å: `enrichAllNotes` –≤—ã–≤–æ–¥–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: Snap –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç snap points –∏–ª–∏ —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–π threshold

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–º–µ—Ç–∫–∏ –∏–º–µ—é—Ç type (person/work/time)
2. –£–≤–µ–ª–∏—á—å—Ç–µ `threshold` –≤ `ScrollController`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `snapPoints` –≤ DevTools

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞–ª–µ–∑–∞—é—Ç –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–Ω–æ–≥–æ –∑–∞–º–µ—Ç–æ–∫ –≤ –æ–¥–Ω–æ–º –≥–æ–¥—É

**–†–µ—à–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á—å—Ç–µ zoom (–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ 'in')
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã (–æ—Ç–∫–ª—é—á–∏—Ç–µ –ª–∏—à–Ω–∏–µ —Ç–∏–ø—ã)

### –ü—Ä–æ–±–ª–µ–º–∞: –õ–∞–≥–∞–µ—Ç –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∫–∞—Ä—Ç–æ—á–µ–∫ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–º–µ–Ω—å—à–∏—Ç–µ buffer –≤ `visibleCards` (—Å 100 –¥–æ 50)
2. –£–≤–µ–ª–∏—á—å—Ç–µ LOD threshold (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –º–µ–Ω—å—à–µ –∫–∞—Ä—Ç–æ—á–µ–∫)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ React DevTools Profiler

---

## üéØ –î–∞–ª—å–Ω–µ–π—à–µ–µ –†–∞–∑–≤–∏—Ç–∏–µ

### –§–∞–∑–∞ 1 (–ì–æ—Ç–æ–≤–æ) ‚úÖ
- [x] Scroll —Å –∏–Ω–µ—Ä—Ü–∏–µ–π
- [x] Snap –∫ –∑–Ω–∞—á–∏–º—ã–º —Ç–æ—á–∫–∞–º
- [x] LOD (3 —É—Ä–æ–≤–Ω—è)
- [x] –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø–∞–º
- [x] Mini-map –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- [x] URL state sync
- [x] –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è

### –§–∞–∑–∞ 2 (–°–ª–µ–¥—É—é—â–∞—è)
- [ ] Focus mode (–∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏ –∫–ª–∏–∫–µ)
- [ ] –°–≤—è–∑–∏ –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ (–ª–∏–Ω–∏–∏ –Ω–∞ hover)
- [ ] Drag –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ —ç–ø–æ—Ö–∞–º (collapsed/expanded)
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–æ–º–µ–Ω–∞–º (—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è/–∏—Å–∫—É—Å—Å—Ç–≤–æ/–Ω–∞—É–∫–∞)

### –§–∞–∑–∞ 3 (–ë—É–¥—É—â–µ–µ)
- [ ] –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è (–æ–ø—Ü–∏—è)
- [ ] –ü–∞—Ä–∞–ª–ª–∞–∫—Å —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
- [ ] Canvas —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–ª—è –ª–∏–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Ç–∞–π–º–ª–∞–π–Ω–∞ –≤ PDF/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- [ ] –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–ø–æ—Ö–∞–º–∏

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –≥–æ–¥—É

```typescript
import { useRef } from 'react';
import { ScrollController } from '@/components/timeline/ScrollController';

function MyComponent() {
  const controllerRef = useRef<ScrollController | null>(null);
  
  const goToYear = (year: number) => {
    controllerRef.current?.setTargetPosition(year, false);
  };
  
  return (
    <button onClick={() => goToYear(1900)}>
      –ü–µ—Ä–µ–π—Ç–∏ –∫ 1900
    </button>
  );
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–º–µ—Ç–æ–∫ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ

```typescript
import { enrichAllNotes } from '@/components/timeline/utils';

const notes = useArcheStore(state => state.notes);
const timelineNotes = enrichAllNotes(notes);

const notesIn1900s = timelineNotes.filter(note => 
  note.timeline.startYear >= 1900 && note.timeline.startYear < 2000
);
```

### –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–º–µ—Å—Ç–æ `TimelineCard`:

```typescript
function MyCustomCard({ note, onClick }: { note: TimelineNote, onClick: () => void }) {
  return (
    <div onClick={onClick} className="custom-card">
      <h3>{note.title}</h3>
      <p>{formatYear(note.timeline.startYear)}</p>
    </div>
  );
}
```

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –î–æ–∫—É–º–µ–Ω—Ç—ã

- **TIME_RULER_DESIGN.md** ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **REDESIGN_IMPLEMENTATION.md** ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–¥–∏–∑–∞–π–Ω—É
- **README.md** ‚Äî –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ

---

## ‚ú® –ì–æ—Ç–æ–≤–æ –∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

Time Ruler –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

**–ó–∞–ø—É—Å–∫:**
```bash
pnpm dev
```

**–ü–µ—Ä–µ—Ö–æ–¥:**
http://localhost:5173/timeline

Enjoy! üé®üï∞Ô∏è


