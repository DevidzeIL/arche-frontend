@tailwind base;
@tailwind components;
@tailwind utilities;

/* Museum/Gallery Design System */
@layer base {
  :root {
    /* Color System (HSL) - Light Theme */
    --background: 0 0% 100%;
    --foreground: 0 0% 10%;
    --card: 0 0% 98%;
    --card-foreground: 0 0% 10%;
    --popover: 0 0% 98%;
    --popover-foreground: 0 0% 10%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 10%;
    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 45%;
    --accent: 0 0% 96%;
    --accent-foreground: 0 0% 10%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 217 91% 60%;
    --radius: 0.5rem;
    
    /* Sidebar */
    --sidebar-background: oklch(0.10 0 0);
    --sidebar-foreground: oklch(0.85 0 0);
    --sidebar-primary: oklch(0.95 0 0);
    --sidebar-primary-foreground: oklch(0.08 0 0);
    --sidebar-accent: oklch(0.15 0 0);
    --sidebar-accent-foreground: oklch(0.95 0 0);
    --sidebar-border: oklch(0.20 0 0 / 0.3);
    --sidebar-ring: oklch(0.95 0 0 / 0.2);
    
    /* Типы заметок (минимальные акценты) */
    --type-person: oklch(0.75 0.05 240); /* Мягкий синий */
    --type-concept: oklch(0.70 0.05 150); /* Мягкий зеленый */
    --type-work: oklch(0.75 0.05 280); /* Мягкий фиолетовый */
    --type-time: oklch(0.70 0.05 50); /* Мягкий оранжевый */
    --type-place: oklch(0.65 0.05 15); /* Мягкий красный */
    --type-note: oklch(0.60 0 0); /* Серый */
  }
  
  .dark {
    /* В dark режиме используем те же значения (уже музейный стиль) */
    --background: oklch(0.08 0 0);
    --foreground: oklch(0.95 0 0);
    --card: oklch(0.12 0 0);
    --card-foreground: oklch(0.95 0 0);
    --popover: oklch(0.12 0 0);
    --popover-foreground: oklch(0.95 0 0);
    --primary: oklch(0.95 0 0);
    --primary-foreground: oklch(0.08 0 0);
    --secondary: oklch(0.18 0 0);
    --secondary-foreground: oklch(0.95 0 0);
    --muted: oklch(0.15 0 0);
    --muted-foreground: oklch(0.65 0 0);
    --accent: oklch(0.20 0 0);
    --accent-foreground: oklch(0.95 0 0);
    --destructive: oklch(0.65 0.15 25);
    --destructive-foreground: oklch(0.95 0 0);
    --border: oklch(0.20 0 0 / 0.3);
    --input: oklch(0.15 0 0);
    --ring: oklch(0.95 0 0 / 0.2);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html, body {
    @apply bg-background text-foreground;
    height: 100%;
    overflow: hidden;
    /* Музейная типографика */
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', sans-serif;
    font-feature-settings: 'kern' 1, 'liga' 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  #root {
    height: 100vh;
    overflow: hidden;
    position: relative;
  }
  
  /* Зерно (grain texture) - опционально, можно включить через класс */
  .grain::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    z-index: 9999;
  }
  
  /* Serif для заголовков */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Georgia', 'Times New Roman', 'Times', serif;
    font-weight: 400;
    letter-spacing: -0.02em;
  }
  
  h1 {
    font-size: 3.5rem;
    line-height: 1.1;
    font-weight: 300;
  }
  
  h2 {
    font-size: 2.5rem;
    line-height: 1.2;
  }
  
  h3 {
    font-size: 1.875rem;
    line-height: 1.3;
  }
}

/* Стили для markdown */
@layer base {
  .prose {
    @apply text-foreground;
  }
  
  /* Простые цвета для текста */
  .prose,
  .prose p,
  .prose li,
  .prose td,
  .prose th,
  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4,
  .prose h5,
  .prose h6 {
    color: hsl(var(--foreground));
  }
  
  .prose a {
    color: hsl(var(--primary));
  }
  
  .prose code {
    color: hsl(var(--foreground));
    background: hsl(var(--muted));
  }
  .prose h1 {
    @apply text-3xl font-bold mt-8 mb-4;
  }
  .prose h2 {
    @apply text-2xl font-semibold mt-6 mb-3;
  }
  .prose h3 {
    @apply text-xl font-semibold mt-4 mb-2;
  }
  .prose p {
    @apply mb-4 leading-relaxed;
  }
  .prose ul, .prose ol {
    @apply mb-4 ml-6;
  }
  .prose li {
    @apply mb-2;
  }
  .prose strong {
    @apply font-semibold;
  }
  .prose em {
    @apply italic;
  }
  .prose code {
    @apply bg-muted px-1.5 py-0.5 rounded text-sm font-mono;
  }
  .prose pre {
    @apply bg-muted p-4 rounded-lg overflow-x-auto mb-4;
  }
  .prose blockquote {
    @apply border-l-4 border-muted-foreground pl-4 italic my-4;
  }
}